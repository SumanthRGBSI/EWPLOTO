<!DOCTYPE html>
<html lang="en" class="h-full bg-slate-100">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EHS - Electronic Work Permit System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --c-primary: #0284c7; /* sky-600 */
            --c-primary-light: #f0f9ff; /* sky-50 */
            --c-primary-dark: #0369a1; /* sky-700 */
            --c-success: #10b981; /* emerald-500 */
            --c-danger: #ef4444; /* red-500 */
            --c-warning: #f59e0b; /* amber-500 */
        }
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            background-color: #f1f5f9; /* slate-100 */
        }
        /* View switching for SPA-like behavior */
        .view { display: none; animation: fadeIn 0.5s; }
        .view.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .tab-content { display: none; }
        .tab-content.active { display: block; }

        /* Status Stepper Styles from new design */
        .status-step .step-icon {
            transition: all 0.3s ease;
        }
        .status-step.completed .step-icon {
            background-color: var(--c-success);
            border-color: var(--c-success);
            color: white;
        }
         .status-step.rejected .step-icon {
            background-color: var(--c-danger);
            border-color: var(--c-danger);
            color: white;
        }
        
        /* General UI element styling */
        .btn { transition: all 0.2s ease; }
        .btn:active { transform: scale(0.97); }
        .tab-btn.active { 
            border-color: var(--c-primary); 
            color: var(--c-primary); 
            background-color: transparent; 
            font-weight: 600;
        }
        .nav-link.active { background-color: var(--c-primary-light); color: var(--c-primary); font-weight: 600; }
        
        /* Modal transitions */
        #modal-overlay.active { opacity: 1; pointer-events: auto; }
        #modal-content.active { transform: scale(1) translateY(0); }
        #modal-content { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); transform: scale(0.95) translateY(20px); }
    </style>
</head>
<body class="text-slate-800">
    <div id="app-container" class="min-h-screen">
        <!-- Main Application Layout -->
        <div class="flex h-screen bg-slate-100">
            <!-- Sidebar Navigation -->
            <aside class="w-64 bg-white border-r border-slate-200 flex flex-col flex-shrink-0">
                <div class="p-4 border-b border-slate-200 flex items-center gap-3">
                    <div class="w-10 h-10 bg-sky-600 rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg>
                    </div>
                    <div>
                        <h1 class="text-lg font-bold text-slate-800">EHS Platform</h1>
                        <span class="text-xs text-slate-500">Work Permit System</span>
                    </div>
                </div>
                <nav class="flex-1 p-4 space-y-2">
                    <a href="#" id="nav-dashboard" class="nav-link flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-600 hover:bg-slate-100 transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"></path></svg>
                        Permit Dashboard
                    </a>
                    <a href="#" id="nav-templates" class="nav-link flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-slate-600 hover:bg-slate-100 transition-colors">
                         <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                        Template Management
                    </a>
                </nav>
                <div class="p-4 border-t border-slate-200">
                    <p class="text-sm font-semibold text-slate-700">Current User (Role Sim)</p>
                    <select id="user-role-selector" class="mt-2 w-full text-sm rounded-md border-slate-300 shadow-sm focus:ring-sky-500 focus:border-sky-500">
                        <!-- User roles are dynamically injected -->
                    </select>
                </div>
            </aside>

            <!-- Main Content Area -->
            <main class="flex-1 p-4 sm:p-6 md:p-8 overflow-y-auto">
                <div id="dashboard-view" class="view"></div>
                <div id="templates-view" class="view"></div>
                <div id="create-permit-view" class="view"></div>
                <div id="permit-details-view" class="view"></div>
                <div id="ewp-view" class="view"></div>
            </main>
        </div>

        <!-- Modal Overlay -->
        <div id="modal-overlay" class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center z-50 opacity-0 pointer-events-none transition-opacity duration-300">
            <div id="modal-content" class="bg-white rounded-lg shadow-xl w-full max-w-2xl transform">
                <!-- Modal content is dynamically injected -->
            </div>
        </div>
    </div>

<script src="app.js" defer></script>
</body>
</html>
